<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Allinea Metric Plugin Interface: Metric Plugin API</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="project-icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Allinea Metric Plugin Interface
   
   </div>
   <div id="projectbrief">Metrics Plugin Interface for MAP</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__api.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Metric Plugin API</div>  </div>
</div><!--header-->
<div class="contents">

<p>The API functions available for use by a metric plugin library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="member-group"></a>
System Info Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp776261aa439bb9767340e0338b923dab"></a>Functions that provide information about the system or the enclosing profiler. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga36ad7cab49614b186da95b2ac348c13a">allinea_get_logical_core_count</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of logical cores on this system.  <a href="#ga36ad7cab49614b186da95b2ac348c13a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga8995d3e488d5d0443a0a8bedb5eeeaa2">allinea_get_physical_core_count</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of physical cores on this system.  <a href="#ga8995d3e488d5d0443a0a8bedb5eeeaa2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gab932dabc92d3ec99eb47f9920b8d16f9">allinea_get_custom_data</a> (<a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a> metricId)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">It returns the "customData" attribute of the "source" element from the metric definition defined in the xml file.  <a href="#gab932dabc92d3ec99eb47f9920b8d16f9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Error Reporting Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpcd7ef727086232e2091be08836dce100"></a>Functions for reporting errors encountered by either a specific metric or an entire metric plugin library. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga352a5c8cc3658872fefda36cf9a64d67">allinea_set_plugin_error_message</a> (<a class="el" href="allinea__metric__plugin__types_8h.html#a2e5fe51e5e78b75bf867fe847ddb6143">plugin_id_t</a> plugin_id, int error_code, const char *error_message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports an error that occurred in the plugin (group of metrics).  <a href="#ga352a5c8cc3658872fefda36cf9a64d67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga0b29f9583e37ae9d5fb107759f64a315">allinea_set_plugin_error_messagef</a> (<a class="el" href="allinea__metric__plugin__types_8h.html#a2e5fe51e5e78b75bf867fe847ddb6143">plugin_id_t</a> plugin_id, int error_code, const char *error_message,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports an error occurred in the plugin (group of metrics).  <a href="#ga0b29f9583e37ae9d5fb107759f64a315"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gae3158cff8aee0414a1b5e0b02a58432b">allinea_set_metric_error_message</a> (<a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a> metric_id, int error_code, const char *error_message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports an error occurred when reading a metric.  <a href="#gae3158cff8aee0414a1b5e0b02a58432b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga2939e9dc1874eecb42c6a3a5c7ce62d5">allinea_set_metric_error_messagef</a> (<a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a> metric_id, int error_code, const char *error_message,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports an error occurred when reading a metric.  <a href="#ga2939e9dc1874eecb42c6a3a5c7ce62d5"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Memory management functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp3b862324d5e78b30de84766fd0ac5d42"></a>Async signal safe replacements for memory management functions.</p>
<p>Since metric library functions need to be async signal safe the standard libc memory management functions (such as <code>malloc</code>, <code>free</code>, <code>new</code>, <code>delete</code>) cannot be used. The following memory management functions can safely be used by the metric plugin libraries even if they are called from inside a signal handler. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gab0aa4ea35eb4ea27751c61089bc2db2b">allinea_safe_malloc</a> (size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>malloc</code>.  <a href="#gab0aa4ea35eb4ea27751c61089bc2db2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga4ea9a5784a8c9e477f08bbf2416b0a82">allinea_safe_free</a> (void *ptr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>free</code>.  <a href="#ga4ea9a5784a8c9e477f08bbf2416b0a82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga15c04de62100bb965939a833691a0db3">allinea_safe_calloc</a> (size_t nmemb, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>calloc</code>.  <a href="#ga15c04de62100bb965939a833691a0db3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gaf1babc53518cd77aff77c279e0f29471">allinea_safe_realloc</a> (void *ptr, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>realloc</code>.  <a href="#gaf1babc53518cd77aff77c279e0f29471"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Standard Utility Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpa008d145bcb01f18440b9af9b514a5d2"></a>Replacements for common libc utility functions.</p>
<p>Since metric library functions need to be async signal safe most standard libc functions cannot be used. Additionally even basic syscalls (such as <code>read</code> and <code>write</code>) cannot be used without risking corruption of some other metrics the enclosing profiler may be tracking (for examples, bytes read/written). The following functions can be safely called inside signal handlers and will accommodate I/O being done by the metric plugin without corrupting I/O metrics being tracked by the enclosing profiler. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga1644a264405e1904958d3cf97d332375">allinea_get_current_time</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current time using the same clock as the enclosing profiler (async-signal-safe).  <a href="#ga1644a264405e1904958d3cf97d332375"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8">allinea_safe_close</a> (int fd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the file descriptor <em>fd</em> previously opened by allinea_safe_open (async-signal-safe).  <a href="#gadba592e4cb5f6ab7c5dbb6dfd968e0f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gaa9f418f6ab9500ef0c41e0be68c7b86c">allinea_safe_fprintf</a> (int fd, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>fprintf</code>.  <a href="#gaa9f418f6ab9500ef0c41e0be68c7b86c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592">allinea_safe_open</a> (const char *file, int oflags,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the given <em>file</em> for reading or writing (async-signal-safe).  <a href="#ga3c96ad02f23474dddc9b5f008f552592"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga26f1a0d01936358de98659446796bb77">allinea_safe_printf</a> (const char *format,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe replacement for <code>printf</code>.  <a href="#ga26f1a0d01936358de98659446796bb77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gaf148e0c149c235523b31ca0b5a534d2e">allinea_safe_read</a> (int fd, void *buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads up to <em>count</em> bytes from <em>buf</em> to <em>fd</em> (async-signal-safe)  <a href="#gaf148e0c149c235523b31ca0b5a534d2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gabe1edfb9863ef3545537fb93586e8a1c">allinea_safe_read_all</a> (int fd, void *buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the entire contents of <em>fd</em> into <em>buf</em> (async-signal-safe).  <a href="#gabe1edfb9863ef3545537fb93586e8a1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gaca9a03f6452230d3a9a1e0e76cf12ef0">allinea_safe_read_line</a> (int fd, void *buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a line from <em>fd</em> into <em>buf</em> (async-signal-safe).  <a href="#gaca9a03f6452230d3a9a1e0e76cf12ef0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga67ce4f7d2ac598b737c571c5ec36c55d">allinea_safe_vfprintf</a> (int fd, const char *format, va_list ap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An async-signal-safe version of <code>vfprintf</code>.  <a href="#ga67ce4f7d2ac598b737c571c5ec36c55d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga15eeb16880a318df0da56e99755d4521">allinea_safe_write</a> (int fd, const void *buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes up to <em>count</em> bytes from <em>buf</em> to <em>fd</em> (async-signal-safe).  <a href="#ga15eeb16880a318df0da56e99755d4521"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>The API functions available for use by a metric plugin library. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga1644a264405e1904958d3cf97d332375"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_get_current_time" ref="ga1644a264405e1904958d3cf97d332375" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec <a class="el" href="group__api.html#ga1644a264405e1904958d3cf97d332375">allinea_get_current_time</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the current time using the same clock as the enclosing profiler (async-signal-safe). </p>
<p>A replacement for <code>clock_gettime</code> that uses the enclosing profiler's preferred system clock (i.e. <code>CLOCK_MONOTONIC</code>). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current time </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a3">sample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gab932dabc92d3ec99eb47f9920b8d16f9"></a><!-- doxytag: member="allinea_metric_plugin_api.h::allinea_get_custom_data" ref="gab932dabc92d3ec99eb47f9920b8d16f9" args="(metric_id_t metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__api.html#gab932dabc92d3ec99eb47f9920b8d16f9">allinea_get_custom_data</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a>&#160;</td>
          <td class="paramname"><em>metricId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It returns the "customData" attribute of the "source" element from the metric definition defined in the xml file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">metricId</td><td>metric id </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the custom data for the given metric id </dd></dl>

</div>
</div>
<a class="anchor" id="ga36ad7cab49614b186da95b2ac348c13a"></a><!-- doxytag: member="allinea_metric_plugin_api.h::allinea_get_logical_core_count" ref="ga36ad7cab49614b186da95b2ac348c13a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__api.html#ga36ad7cab49614b186da95b2ac348c13a">allinea_get_logical_core_count</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of logical cores on this system. </p>
<p>This count will include 'effective' cores reported by hyperthreading. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of CPU cores known to the kernel (including those added by hyperthreading). -1 if this information is not available. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__api.html#ga8995d3e488d5d0443a0a8bedb5eeeaa2" title="Returns the number of physical cores on this system.">allinea_get_physical_core_count</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8995d3e488d5d0443a0a8bedb5eeeaa2"></a><!-- doxytag: member="allinea_metric_plugin_api.h::allinea_get_physical_core_count" ref="ga8995d3e488d5d0443a0a8bedb5eeeaa2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__api.html#ga8995d3e488d5d0443a0a8bedb5eeeaa2">allinea_get_physical_core_count</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of physical cores on this system. </p>
<p>This count will <em>not</em> include the 'effective' cores reported when using hyperthreading. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of CPU cores known to the kernel (excluding those added by hyperthreading). -1 if this information is not available </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__api.html#ga36ad7cab49614b186da95b2ac348c13a" title="Returns the number of logical cores on this system.">allinea_get_logical_core_count</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga15c04de62100bb965939a833691a0db3"></a><!-- doxytag: member="allinea_safe_malloc.h::allinea_safe_calloc" ref="ga15c04de62100bb965939a833691a0db3" args="(size_t nmemb, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="group__api.html#ga15c04de62100bb965939a833691a0db3">allinea_safe_calloc</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>calloc</code>. </p>
<p>Allocates <code>size</code> * <code>nmemb</code> bytes and zero-initialises the memory.</p>
<p>To be used instead of the libc <code>calloc</code>.</p>
<p>If memory is exhausted an error is printed to stderr and the process aborted.</p>
<p>Memory allocated by this function should be released by a call to <a class="el" href="group__api.html#ga4ea9a5784a8c9e477f08bbf2416b0a82" title="An async-signal-safe version of free.">allinea_safe_free()</a>. Do not use libc <code>free</code> to free memory allocated by this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nmemb</td><td>the number of bytes per element to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>the number of elements to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the start of the allocated memory region. </dd></dl>

</div>
</div>
<a class="anchor" id="gadba592e4cb5f6ab7c5dbb6dfd968e0f8"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_close" ref="gadba592e4cb5f6ab7c5dbb6dfd968e0f8" args="(int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8">allinea_safe_close</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the file descriptor <em>fd</em> previously opened by allinea_safe_open (async-signal-safe). </p>
<p>A replacement for <code>close</code>. When used in conjunction with <a class="el" href="group__api.html#gaf148e0c149c235523b31ca0b5a534d2e" title="Reads up to count bytes from buf to fd (async-signal-safe)">allinea_safe_read()</a> and <a class="el" href="group__api.html#ga15eeb16880a318df0da56e99755d4521" title="Writes up to count bytes from buf to fd (async-signal-safe).">allinea_safe_write()</a> the bytes read / written will not be included in the enclosing profiler's I/O accounting. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success; -1 on failure and errno set. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a7">sample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaa9f418f6ab9500ef0c41e0be68c7b86c"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_fprintf" ref="gaa9f418f6ab9500ef0c41e0be68c7b86c" args="(int fd, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#gaa9f418f6ab9500ef0c41e0be68c7b86c">allinea_safe_fprintf</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>fprintf</code>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to write to. </td></tr>
    <tr><td class="paramname">format</td><td>The format string. </td></tr>
    <tr><td class="paramname">...</td><td>Zero or more values to be substituted into the <em>format</em> string in the same manner as printf. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4ea9a5784a8c9e477f08bbf2416b0a82"></a><!-- doxytag: member="allinea_safe_malloc.h::allinea_safe_free" ref="ga4ea9a5784a8c9e477f08bbf2416b0a82" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga4ea9a5784a8c9e477f08bbf2416b0a82">allinea_safe_free</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>free</code>. </p>
<p>Frees a memory region previously allocated with allinea_safe_malloc.</p>
<p>To be used instead of the libc <code>free</code>. Do not use this function to deallocate memory blocks previously allocated by the libc <code>malloc</code>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ptr</td><td>A pointer to the start of the memory region to free. This should have been previously allocated with <a class="el" href="group__api.html#gab0aa4ea35eb4ea27751c61089bc2db2b" title="An async-signal-safe version of malloc.">allinea_safe_malloc()</a>, <a class="el" href="group__api.html#gaf1babc53518cd77aff77c279e0f29471" title="An async-signal-safe version of realloc.">allinea_safe_realloc()</a>, or <a class="el" href="group__api.html#ga15c04de62100bb965939a833691a0db3" title="An async-signal-safe version of calloc.">allinea_safe_calloc()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab0aa4ea35eb4ea27751c61089bc2db2b"></a><!-- doxytag: member="allinea_safe_malloc.h::allinea_safe_malloc" ref="gab0aa4ea35eb4ea27751c61089bc2db2b" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="group__api.html#gab0aa4ea35eb4ea27751c61089bc2db2b">allinea_safe_malloc</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>malloc</code>. </p>
<p>Allocates a memory region of size bytes. To be used instead of the libc <code>malloc</code>.</p>
<p>If memory is exhausted an error is printed to stderr and the process aborted.</p>
<p>Memory allocated by this function should be released by a call to <a class="el" href="group__api.html#ga4ea9a5784a8c9e477f08bbf2416b0a82" title="An async-signal-safe version of free.">allinea_safe_free()</a>. Do not try to use the libc <code>free()</code> to free memory allocated by this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The number of bytes of memory to allocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the start of the allocated memory region. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c96ad02f23474dddc9b5f008f552592"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_open" ref="ga3c96ad02f23474dddc9b5f008f552592" args="(const char *file, int oflags,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592">allinea_safe_open</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens the given <em>file</em> for reading or writing (async-signal-safe). </p>
<p>A replacement for <code>open</code>. When used in conjunction with <a class="el" href="group__api.html#gaf148e0c149c235523b31ca0b5a534d2e" title="Reads up to count bytes from buf to fd (async-signal-safe)">allinea_safe_read()</a> and <a class="el" href="group__api.html#ga15eeb16880a318df0da56e99755d4521" title="Writes up to count bytes from buf to fd (async-signal-safe).">allinea_safe_write()</a> the bytes read / written will not be included in the enclosing profiler's I/O accounting. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The name of the file to open (may be an absolute or relative path) </td></tr>
    <tr><td class="paramname">oflags</td><td>Flags specifying how the file should be opened. Accepts all the flags that may be given to the libc <code>open</code> function i.e. <code>O_RDONLY</code>, <code>O_WRONLY</code>, or <code>O_RDWR</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The file descriptor of the open file; -1 on failure and errno set. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a4">sample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga26f1a0d01936358de98659446796bb77"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_printf" ref="ga26f1a0d01936358de98659446796bb77" args="(const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga26f1a0d01936358de98659446796bb77">allinea_safe_printf</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe replacement for <code>printf</code>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The format string. </td></tr>
    <tr><td class="paramname">...</td><td>Zero or more values to be substituted into the <em>format</em> string in the same manner as printf. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf148e0c149c235523b31ca0b5a534d2e"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_read" ref="gaf148e0c149c235523b31ca0b5a534d2e" args="(int fd, void *buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="group__api.html#gaf148e0c149c235523b31ca0b5a534d2e">allinea_safe_read</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads up to <em>count</em> bytes from <em>buf</em> to <em>fd</em> (async-signal-safe) </p>
<p>A replacement for <code>read</code>. When used in conjunction with <a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592" title="Opens the given file for reading or writing (async-signal-safe).">allinea_safe_open()</a> and <a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8" title="Closes the file descriptor fd previously opened by allinea_safe_open (async-signal-safe).">allinea_safe_close()</a> the read bytes will be excluded from the enclosing profiler's I/O accounting. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to read from </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to read to. </td></tr>
    <tr><td class="paramname">count</td><td>The maximum number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes actually read; -1 on failure and errno set. </dd></dl>

</div>
</div>
<a class="anchor" id="gabe1edfb9863ef3545537fb93586e8a1c"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_read_all" ref="gabe1edfb9863ef3545537fb93586e8a1c" args="(int fd, void *buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="group__api.html#gabe1edfb9863ef3545537fb93586e8a1c">allinea_safe_read_all</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the entire contents of <em>fd</em> into <em>buf</em> (async-signal-safe). </p>
<p>When used in conjunction with <a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592" title="Opens the given file for reading or writing (async-signal-safe).">allinea_safe_open()</a> and <a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8" title="Closes the file descriptor fd previously opened by allinea_safe_open (async-signal-safe).">allinea_safe_close()</a> the read bytes will be excluded from the enclosing profiler's I/O accounting. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to read from. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer in which to copy the contents </td></tr>
    <tr><td class="paramname">count</td><td>Size of the buffer. At most this many bytes will be written to <em>buf</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If successful the number of bytes read, else -1 and <em>errno</em> is set. </dd></dl>

</div>
</div>
<a class="anchor" id="gaca9a03f6452230d3a9a1e0e76cf12ef0"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_read_line" ref="gaca9a03f6452230d3a9a1e0e76cf12ef0" args="(int fd, void *buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="group__api.html#gaca9a03f6452230d3a9a1e0e76cf12ef0">allinea_safe_read_line</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a line from <em>fd</em> into <em>buf</em> (async-signal-safe). </p>
<p>The final newline '\n' will be removed and a final '\0' added. When used in conjunction with <a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592" title="Opens the given file for reading or writing (async-signal-safe).">allinea_safe_open()</a> and <a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8" title="Closes the file descriptor fd previously opened by allinea_safe_open (async-signal-safe).">allinea_safe_close()</a> the written bytes will be excluded from the enclosing profiler's I/O accounting.</p>
<p>Lines longer than <em>count</em> will be truncated.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to read from. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer in which to copy the contents </td></tr>
    <tr><td class="paramname">count</td><td>Size of the buffer. At most this many bytes will be written to <em>buf</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If successful the number of bytes read, else -1 and <em>errno</em> is set. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a6">sample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaf1babc53518cd77aff77c279e0f29471"></a><!-- doxytag: member="allinea_safe_malloc.h::allinea_safe_realloc" ref="gaf1babc53518cd77aff77c279e0f29471" args="(void *ptr, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="group__api.html#gaf1babc53518cd77aff77c279e0f29471">allinea_safe_realloc</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>realloc</code>. </p>
<p>Reallocates a memory region if necessary, or allocates a new one if NULL is supplied for <code>ptr</code>.</p>
<p>To be used instead of the libc <code>realloc</code>.</p>
<p>If memory is exhausted an error is printed to stderr and the process aborted.</p>
<p>Pointers to memory regions supplied to this function should be allocated by a call to <a class="el" href="group__api.html#gab0aa4ea35eb4ea27751c61089bc2db2b" title="An async-signal-safe version of malloc.">allinea_safe_malloc()</a>, <a class="el" href="group__api.html#ga15c04de62100bb965939a833691a0db3" title="An async-signal-safe version of calloc.">allinea_safe_calloc()</a> or <a class="el" href="group__api.html#gaf1babc53518cd77aff77c279e0f29471" title="An async-signal-safe version of realloc.">allinea_safe_realloc()</a>.</p>
<p>Memory allocated by this function should be release by a call to <a class="el" href="group__api.html#ga4ea9a5784a8c9e477f08bbf2416b0a82" title="An async-signal-safe version of free.">allinea_safe_free()</a>. Do not use libc <code>free</code> to free memory allocated by this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>the starting address of the memory region to reallocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>the new minimum size to request</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to a memory region with at least <code>size</code> bytes available </dd></dl>

</div>
</div>
<a class="anchor" id="ga67ce4f7d2ac598b737c571c5ec36c55d"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_vfprintf" ref="ga67ce4f7d2ac598b737c571c5ec36c55d" args="(int fd, const char *format, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga67ce4f7d2ac598b737c571c5ec36c55d">allinea_safe_vfprintf</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An async-signal-safe version of <code>vfprintf</code>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to write to. </td></tr>
    <tr><td class="paramname">format</td><td>The format string. </td></tr>
    <tr><td class="paramname">ap</td><td>A list of arguments for <em>format</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga15eeb16880a318df0da56e99755d4521"></a><!-- doxytag: member="allinea_safe_syscalls.h::allinea_safe_write" ref="ga15eeb16880a318df0da56e99755d4521" args="(int fd, const void *buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="group__api.html#ga15eeb16880a318df0da56e99755d4521">allinea_safe_write</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes up to <em>count</em> bytes from <em>buf</em> to <em>fd</em> (async-signal-safe). </p>
<p>A replacement for <code>write</code> When used in conjunction with <a class="el" href="group__api.html#ga3c96ad02f23474dddc9b5f008f552592" title="Opens the given file for reading or writing (async-signal-safe).">allinea_safe_open()</a> and <a class="el" href="group__api.html#gadba592e4cb5f6ab7c5dbb6dfd968e0f8" title="Closes the file descriptor fd previously opened by allinea_safe_open (async-signal-safe).">allinea_safe_close()</a> the written bytes will be excluded from the enclosing profiler's I/O accounting. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor to write to. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to write from. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes actually written; -1 on failure and errno set. </dd></dl>

</div>
</div>
<a class="anchor" id="gae3158cff8aee0414a1b5e0b02a58432b"></a><!-- doxytag: member="allinea_metric_plugin_errors.h::allinea_set_metric_error_message" ref="gae3158cff8aee0414a1b5e0b02a58432b" args="(metric_id_t metric_id, int error_code, const char *error_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#gae3158cff8aee0414a1b5e0b02a58432b">allinea_set_metric_error_message</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a>&#160;</td>
          <td class="paramname"><em>metric_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports an error occurred when reading a metric. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">metric_id</td><td>The id identifying the metric that has encountered an error. The appropriate value will have been passed in as an argument to the metric getter call. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error code that can be used to distinguish between the possible errors that may have occurred. The exact value is up to the plugin author but each error condition should have its own and unique error code. In the case of a failing libc function the libc <code>errno</code> (from <code>&lt;errno.h&gt;</code>) may be appropriate, but a plugin-author-specified constant could also be used. The meaning of the possible error codes should be documented for the benefit of users of your plugin. </td></tr>
    <tr><td class="paramname">error_message</td><td>A text string describing the error in a human-readable form. In the case of a failing libc function the value <code>strerror(errno)</code> may be appropriate, but a plugin-author-specified message could also be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2939e9dc1874eecb42c6a3a5c7ce62d5"></a><!-- doxytag: member="allinea_metric_plugin_errors.h::allinea_set_metric_error_messagef" ref="ga2939e9dc1874eecb42c6a3a5c7ce62d5" args="(metric_id_t metric_id, int error_code, const char *error_message,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga2939e9dc1874eecb42c6a3a5c7ce62d5">allinea_set_metric_error_messagef</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="allinea__metric__plugin__types_8h.html#ac31d0a0597292b5edd1d33fec0cd0f33">metric_id_t</a>&#160;</td>
          <td class="paramname"><em>metric_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports an error occurred when reading a metric. </p>
<p>This method does printf-style substitutions to format values inside the error message. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">metric_id</td><td>The id identifying the metric that has encountered an error. The appropriate value will have been passed in as an argument to the metric getter call. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error code that can be used to distinguish between the possible errors that may have occurred. The exact value is up to the plugin author but each error condition should have its own and unique error code. In the case of a failing libc function the libc <code>errno</code> (from <code>&lt;errno.h&gt;</code>) may be appropriate, but a plugin-author-specified constant could also be used. The meaning of the possible error codes should be documented for the benefit of users of your plugin.</td></tr>
    <tr><td class="paramname">error_message</td><td>A text string describing the error in a human-readable form. In the case of a failing libc function the value <code>strerror(errno)</code> may be appropriate, but a plugin-author-specified message could also be used. This may include printf-style substitution characters. </td></tr>
    <tr><td class="paramname">...</td><td>Zero or more values to be substituted into the <em>error_message</em> string. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a5">sample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga352a5c8cc3658872fefda36cf9a64d67"></a><!-- doxytag: member="allinea_metric_plugin_errors.h::allinea_set_plugin_error_message" ref="ga352a5c8cc3658872fefda36cf9a64d67" args="(plugin_id_t plugin_id, int error_code, const char *error_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga352a5c8cc3658872fefda36cf9a64d67">allinea_set_plugin_error_message</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="allinea__metric__plugin__types_8h.html#a2e5fe51e5e78b75bf867fe847ddb6143">plugin_id_t</a>&#160;</td>
          <td class="paramname"><em>plugin_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports an error that occurred in the plugin (group of metrics). </p>
<p>This method takes a plain text string as its <em>error_message</em>. Use <a class="el" href="group__api.html#ga0b29f9583e37ae9d5fb107759f64a315" title="Reports an error occurred in the plugin (group of metrics).">allinea_set_plugin_error_messagef()</a> instead to include specific details in the string using printf-style substitution.</p>
<p>This method should only be called from within <a class="el" href="group__template.html#gab6acb8087814028ecaea40a1f3fcab9c" title="Initialises a metric plugin.">allinea_plugin_initialize()</a>, and only if the plugin library will not be able to provide its data (e.g. if the required interfaces are not present or supported by the system).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin_id</td><td>The id identifying the plugin that has encountered an error. The appropriate value will have been passed in as an argument to the <a class="el" href="group__template.html#gab6acb8087814028ecaea40a1f3fcab9c" title="Initialises a metric plugin.">allinea_plugin_initialize()</a> call. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error code that can be used to distinguish between the possible errors that may have occurred. The exact value is up to the plugin author but each error condition should have its own and unique error code. In the case of a failing libc function the libc <code>errno</code> (from <code>&lt;errno.h&gt;</code>) may be appropriate, but a plugin-author-specified constant could also be used. The meaning of the possible error codes should be documented for the benefit of users of your plugin. </td></tr>
    <tr><td class="paramname">error_message</td><td>A text string describing the error in a human-readable form. In the case of a failing libc function the value <code>strerror(errno)</code> may be appropriate, but a plugin-author-specified message could also be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0b29f9583e37ae9d5fb107759f64a315"></a><!-- doxytag: member="allinea_metric_plugin_errors.h::allinea_set_plugin_error_messagef" ref="ga0b29f9583e37ae9d5fb107759f64a315" args="(plugin_id_t plugin_id, int error_code, const char *error_message,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__api.html#ga0b29f9583e37ae9d5fb107759f64a315">allinea_set_plugin_error_messagef</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="allinea__metric__plugin__types_8h.html#a2e5fe51e5e78b75bf867fe847ddb6143">plugin_id_t</a>&#160;</td>
          <td class="paramname"><em>plugin_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports an error occurred in the plugin (group of metrics). </p>
<p>This method does printf-style substitutions to format values inside the error message.</p>
<p>This method should only be called from within <a class="el" href="group__template.html#gab6acb8087814028ecaea40a1f3fcab9c" title="Initialises a metric plugin.">allinea_plugin_initialize()</a>, and only if the plugin library will not be able to provide its data (e.g. if the required interfaces are not present or supported by the system).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin_id</td><td>The id identifying the plugin that has encountered an error. The appropriate value will have been passed in as an argument to the <a class="el" href="group__template.html#gab6acb8087814028ecaea40a1f3fcab9c" title="Initialises a metric plugin.">allinea_plugin_initialize()</a> call. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error code that can be used to distinguish between the possible errors that may have occurred. The exact value is up to the plugin author but each error condition should have its own and unique error code. In the case of a failing libc function the libc <code>errno</code> (from <code>&lt;errno.h&gt;</code>) may be appropriate, but a plugin-author-specified constant could also be used. The meaning of the possible error codes should be documented for the benefit of users of your plugin. </td></tr>
    <tr><td class="paramname">error_message</td><td>A text string describing the error in a human-readable form. In the case of a failing libc function the value <code>strerror(errno)</code> may be appropriate, but a plugin-author-specified message could also be used. This may include printf-style substitution characters. </td></tr>
    <tr><td class="paramname">...</td><td>Zero or more values to be substituted into the <em>error_message</em> string in the same manner as printf. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sample_8c-example.html#a1">sample.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
